# ИДЗ №1. Татаров Константин Манолисович БПИ 228
**Варинат 1\
Условие задания:**

Разработать программу, которая «переворачивает» заданную позициями N1–N2 часть ASCII–строки символов (числа N1, N2 вводятся как параметры).
Программа:
1) [на 4 балла](https://github.com/kkkkkostya/system-arch-hse/blob/2d707feacfe8a32152ce1b2fd9bb77af92330d66/idz_os_1/program4.c)
2) [на 5 баллов](https://github.com/kkkkkostya/system-arch-hse/blob/6e855175ac40b567ba181d2c8d629b67a84edd55/idz_os_1/program5.c)
3) [на 6 баллов](https://github.com/kkkkkostya/system-arch-hse/blob/17d13958e3b92c7013d42a311bda985a766f67c6/idz_os_1/program6.c)
```
Первая программа на 4 балла:
- Сперва от пользователя требуется ввести имя входного файла для чтения строки, имя выходного файла,
индекс начала, индекс конца.
- Если входного файла не существует, то программа сообщит об ошибке и закончит свое выполнение.
- Если индекс конца строки больше длины строки, то в строке поменяются все символы от начального до конца строки.

* Сперва создается процесс для считывания файла в буфер, используя pipe1[1].
* Затем создается процесс для обработки и изменения строки, используя pipe1[0] для считывания и pipe2[1] для записи измененной строки.
* В конце создается процесс для записи преобразованной строки в выходной файл с помощью pipe2[0]
```

Программа была протестирована на 5-ти [тестовых входных файлов](https://github.com/kkkkkostya/system-arch-hse/tree/a15936f6c0d527c558bb922d08ee8044c0602eb7/idz_os_1/tests)
Примеры ввода/вывода:
1) Ввод: test4_1.txt output4_1.txt 2 6\
   [Файл](https://github.com/kkkkkostya/system-arch-hse/blob/c78ce982f0bd5ca6f64ac6308751412f34d99c49/idz_os_1/tests4/test4_1.txt): abcdefghijk\
   [Вывод](https://github.com/kkkkkostya/system-arch-hse/blob/c78ce982f0bd5ca6f64ac6308751412f34d99c49/idz_os_1/tests4/output4_1.txt): abfedcghijk
2) Индексы при вводе для test4_2.txt: 1 3
3) test4_3: 0 4
4) test4_4: 2 5
5) test4_5: 0 10

```
Программа на 5 баллов:
Названия каналов: "first.fifo", "second.fifo". Создавались они с помощью команды mkfifo

- Чтение данных из файла и передача по именованному каналу:

Первый процесс читает текстовые данные из указанного входного файла.
Прочитанные данные передаются через именованный канал второму процессу.

- Обработка данных и передача результата:

Второй процесс принимает данные из первого именованного канала.
Он обрабатывает данные в соответствии с заданными параметрами.
Обработанные данные передаются через второй именованный канал третьему процессу.

- Запись данных в файл:

Третий процесс принимает обработанные данные из второго именованного канала.
Он записывает полученные данные в указанный выходной файл.
```
Тестирование программы происходило в точность аналогично программе на 4 балла. [Результаты тестирования](https://github.com/kkkkkostya/system-arch-hse/tree/c37f6cfd659b948bc9bf7aab487dbc7b0f25f063/idz_os_1/tests5)

```
Программа на 6 баллов:
Чтение данных из файла и передача в первый процесс:

Родительский процесс создает неименованный канал pipe1 и запускает процесс для чтения данных из входного файла (read_from_file_and_send()).
В этом процессе данные считываются из входного файла и записываются в неименованный канал pipe1.
Обработка данных и передача результата во второй процесс:

Родительский процесс создает неименованный канал pipe2 и запускает второй процесс (process_data_and_send()).
Во втором процессе данные читаются из неименованного канала pipe1, обрабатываются (переворачиваются указанным образом) и записываются в неименованный канал pipe2.
Запись обработанных данных в выходной файл:

Родительский процесс читает обработанные данные из неименованного канала pipe2 и записывает их в выходной файл (write_to_file_and_close()).
```
[Резултаты тестирования](https://github.com/kkkkkostya/system-arch-hse/tree/18121c2fafaea0069ef3fb978c9ebdd1eff07fa7/idz_os_1/tests6)

```
Программа на 7 баллов:
Имена каналов:

Первый процесс (Читатель) пишет данные в first.fifo и читает данные из second.fifo.
Второй процесс (Обработчик) читает данные из first.fifo и пишет данные в second.fifo.

Способ создания именованных каналов:

Функция mkfifo() используется для создания именованных каналов first.fifo и second.fifo.
Чтение данных из файла и передача в первый процесс:

Программа состоит из двух независимых процессов, которые взаимодействуют друг с другом через именованные каналы.

Процесс 1 (Читатель):

Открывает входной файл, читает из него данные и записывает их в именованный канал first.fifo.
Затем ожидает, пока второй процесс завершит обработку данных и запишет результат обратно в second.fifo.
Процесс 2 (Обработчик):

Ожидает появления данных в именованном канале first.fifo.
Когда данные появляются, он их считывает, производит обработку (переворот заданной части строки) и записывает результат в именованный канал second.fifo.
Оба процесса организуют синхронизацию, чтобы обеспечить корректную передачу данных между собой. После завершения обработки данных процесс 2 ожидает завершения процесса 1, а затем завершается сам. После завершения обработки данных процесс 1 записывает результат в выходной файл и завершает свою работу.

Таким образом, данные передаются от процесса 1 к процессу 2 через именованный канал, проходят обработку и передаются обратно от процесса 2 к процессу 1.
```
[Резултаты тестирования](https://github.com/kkkkkostya/system-arch-hse/tree/4987ec33238a0dcacd66d100736c975e612b9858/idz_os_1/tests7)

```
Программа на 8 баллов:
Название канала: myfifo.fifo.
Способ создания: mkfifo

Общая схема взаимодействия процессов:

Процесс 1 (Передача данных):

Процесс 1 начинает с чтения входного файла, указанного в аргументах командной строки.
После чтения данных процесс 1 записывает их в именованный канал myfifo.fifo, который предварительно создал.
Затем процесс 1 запускает второй процесс для обработки данных, передавая ему именованный канал, имя выходного файла и параметры N1 и N2.
Процесс 2 (Обработка данных):

Процесс 2 ожидает данные из именованного канала myfifo.fifo.
После получения данных из канала процесс 2 осуществляет обработку: переворачивает часть строки от позиции N1 до N2.
Обработанные данные записываются в указанный вторым аргументом командной строки выходной файл.
```
[Резултаты тестирования](https://github.com/kkkkkostya/system-arch-hse/tree/4987ec33238a0dcacd66d100736c975e612b9858/idz_os_1/tests8)
